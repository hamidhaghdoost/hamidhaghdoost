<!DOCTYPE html>
<html lang="en" dir="ltr">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Local Storage for shopping cart in Javascript | Hamid Haghdoost</title>
<meta name="keywords" content="">
<meta name="description" content="In previous exercise class with students, we created a simple shopping cart with JS. Today I had another lecture and I added localStorage feature to this project and in this version of project the added items could be persist in cart with refresh and we added another file named cart.html that shows added cart items. You can see source code of this project in v2.0.0 tag in this repo: JsShoppingCart
In this lecture we used JS Objects to store cart items like this:">
<meta name="author" content="">
<link rel="canonical" href="https://hamidhaghdoost.github.io/posts/local-storage-for-shopping-cart-in-javascript/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://hamidhaghdoost.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://hamidhaghdoost.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://hamidhaghdoost.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://hamidhaghdoost.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://hamidhaghdoost.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://hamidhaghdoost.github.io/posts/local-storage-for-shopping-cart-in-javascript/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Local Storage for shopping cart in Javascript">
<meta property="og:description" content="In previous exercise class with students, we created a simple shopping cart with JS. Today I had another lecture and I added localStorage feature to this project and in this version of project the added items could be persist in cart with refresh and we added another file named cart.html that shows added cart items. You can see source code of this project in v2.0.0 tag in this repo: JsShoppingCart
In this lecture we used JS Objects to store cart items like this:">
<meta property="og:type" content="article">
<meta property="og:url" content="https://hamidhaghdoost.github.io/posts/local-storage-for-shopping-cart-in-javascript/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2022-05-23T21:49:46+01:00">
<meta property="article:modified_time" content="2022-05-23T21:49:46+01:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Local Storage for shopping cart in Javascript">
<meta name="twitter:description" content="In previous exercise class with students, we created a simple shopping cart with JS. Today I had another lecture and I added localStorage feature to this project and in this version of project the added items could be persist in cart with refresh and we added another file named cart.html that shows added cart items. You can see source code of this project in v2.0.0 tag in this repo: JsShoppingCart
In this lecture we used JS Objects to store cart items like this:">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://hamidhaghdoost.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Local Storage for shopping cart in Javascript",
      "item": "https://hamidhaghdoost.github.io/posts/local-storage-for-shopping-cart-in-javascript/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Local Storage for shopping cart in Javascript",
  "name": "Local Storage for shopping cart in Javascript",
  "description": "In previous exercise class with students, we created a simple shopping cart with JS. Today I had another lecture and I added localStorage feature to this project and in this version of project the added items could be persist in cart with refresh and we added another file named cart.html that shows added cart items. You can see source code of this project in v2.0.0 tag in this repo: JsShoppingCart In this lecture we used JS Objects to store cart items like this:\n",
  "keywords": [
    
  ],
  "articleBody": "In previous exercise class with students, we created a simple shopping cart with JS. Today I had another lecture and I added localStorage feature to this project and in this version of project the added items could be persist in cart with refresh and we added another file named cart.html that shows added cart items. You can see source code of this project in v2.0.0 tag in this repo: JsShoppingCart In this lecture we used JS Objects to store cart items like this:\nif (id in cart) { cart[id].qty++; } else { let cartItem = { title: title, price: price, qty: 1 }; cart[id] = cartItem } and we added cart items to localStorage like this:\nlocalStorage.setItem(\"cart\", JSON.stringify(cart)); And finally in the cart.js file we can create table rows like this:\nlet cart = {}; if (localStorage.getItem(\"cart\")) { cart = JSON.parse(localStorage.getItem(\"cart\")); } let tbody = document.getElementById(\"tbody\"); for (let id in cart) { let item = cart[id]; let tr = document.createElement('tr') let title_td = document.createElement('td') title_td.textContent = item.title tr.appendChild(title_td) let price_td = document.createElement(\"td\"); price_td.textContent = item.price; tr.appendChild(price_td); let qty_td = document.createElement(\"td\"); qty_td.textContent = item.qty; tr.appendChild(qty_td); tbody.appendChild(tr) } In the next session we want to talk about AJAX and we will get the product from an API. If you find this code useful, give it a like :)\n",
  "wordCount" : "216",
  "inLanguage": "en",
  "datePublished": "2022-05-23T21:49:46+01:00",
  "dateModified": "2022-05-23T21:49:46+01:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://hamidhaghdoost.github.io/posts/local-storage-for-shopping-cart-in-javascript/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Hamid Haghdoost",
    "logo": {
      "@type": "ImageObject",
      "url": "https://hamidhaghdoost.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://hamidhaghdoost.github.io/" accesskey="h" title="Hamid Haghdoost (Alt + H)">Hamid Haghdoost</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://hamidhaghdoost.github.io/fa/" title="فارسی"
                            aria-label="فارسی">Fa</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Local Storage for shopping cart in Javascript
    </h1>
    <div class="post-meta"><span title='2022-05-23 21:49:46 +0100 +0100'>May 23, 2022</span>

</div>
  </header> 
  <div class="post-content"><p>In previous exercise class with students, we created a <a href="https://dev.to/haamid/simple-shopping-cart-with-pure-javascript-1mno">simple shopping cart</a> with JS. Today I had another lecture and I added <code>localStorage</code> feature to this project and in this version of project the added items could be persist in cart with refresh and we added another file named <code>cart.html</code> that shows added cart items. You can see source code of this project in v2.0.0 tag in this repo: <a href="https://github.com/tuytoosh/js-shopping-cart">JsShoppingCart</a>
In this lecture we used JS Objects to store cart items like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">id</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">cart</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">cart</span>[<span style="color:#a6e22e">id</span>].<span style="color:#a6e22e">qty</span><span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">cartItem</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">title</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">price</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">price</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">qty</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">cart</span>[<span style="color:#a6e22e">id</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">cartItem</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>and we added cart items to localStorage like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">setItem</span>(<span style="color:#e6db74">&#34;cart&#34;</span>, <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">cart</span>));
</span></span></code></pre></div><p>And finally in the <code>cart.js</code> file we can create table rows like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">cart</span> <span style="color:#f92672">=</span> {};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;cart&#34;</span>)) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">cart</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">localStorage</span>.<span style="color:#a6e22e">getItem</span>(<span style="color:#e6db74">&#34;cart&#34;</span>));
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">tbody</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;tbody&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">id</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">cart</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">item</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">cart</span>[<span style="color:#a6e22e">id</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">tr</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;tr&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">title_td</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;td&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">title_td</span>.<span style="color:#a6e22e">textContent</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">title</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">tr</span>.<span style="color:#a6e22e">appendChild</span>(<span style="color:#a6e22e">title_td</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">price_td</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#34;td&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">price_td</span>.<span style="color:#a6e22e">textContent</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">price</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">tr</span>.<span style="color:#a6e22e">appendChild</span>(<span style="color:#a6e22e">price_td</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">qty_td</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#34;td&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">qty_td</span>.<span style="color:#a6e22e">textContent</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">qty</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">tr</span>.<span style="color:#a6e22e">appendChild</span>(<span style="color:#a6e22e">qty_td</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">tbody</span>.<span style="color:#a6e22e">appendChild</span>(<span style="color:#a6e22e">tr</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>In the next session we want to talk about AJAX and we will get the product from an API. If you find this code useful, give it a like :)</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://hamidhaghdoost.github.io/">Hamid Haghdoost</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
